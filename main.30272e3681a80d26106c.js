(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{OSpC:function(e,t,n){},QfWi:function(e,t,n){"use strict";n.r(t);n("CfbV"),n("Muwe"),n("9UJh"),n("3dw1"),n("OSpC");var l=n("sbky"),a=n.n(l),o=n("dcBu"),s=(n("T9Y1"),n("PzF0"),null);function i(e){"Escape"===e.code&&s.close()}n("bzha"),n("u1Y8"),n("mFSj");var r=n("QJ3N"),c=n("WSJ9");function u(){Object(r.error)({type:"error",title:"Error!",text:"Something went wrong.Please try again later",stack:m,hide:!0,sticker:!0,mode:"light",shadow:!0,width:"100%",mouseReset:!0,maxTextHeight:null,styling:"angeler",icons:"angeler",closer:!0})}function d(){Object(r.notice)({type:"notice",title:"Hey buddy!",text:"Please, check the entered value!",stack:m,hide:!0,sticker:!0,mode:"light",shadow:!0,width:"100%",mouseReset:!0,maxTextHeight:null,styling:"angeler",icons:"angeler",closer:!0})}r.defaultModules.set(c,{swipeDismiss:!0});var m=new r.Stack({dir1:"down",dir2:"down",delay:900,firstpos1:25,firstpos2:25,closerHover:!1,types:[{type:"error",duration:400,dismissible:!0},{type:"notice",duration:200,dismissible:!0}]});n("wcNg"),n("JBxO"),n("FdtR");function h(e,t,n,l,a,o,s){try{var i=e[o](s),r=i.value}catch(e){return void n(e)}i.done?t(r):Promise.resolve(r).then(l,a)}function p(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}var g=function(){function e(){this.searchQuery="",this.page=1,this.perPage=12}var t,n,l,a=e.prototype;return a.fetchPhotos=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pixabay.com/api/?image_type=photo&orientation=all&q="+this.searchQuery+"&page="+this.page+"&per_page="+this.perPage+"&key=23986841-812d243cb6ef7e46086f1e90e");case 2:if((t=e.sent).ok){e.next=5;break}throw t;case 5:return e.abrupt("return",t.json().then((function(e){var t=e.hits;return n.incrementPage(),t})).catch((function(e){alert(""+e)})));case 6:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(l,a){var o=e.apply(t,n);function s(e){h(o,l,a,s,i,"next",e)}function i(e){h(o,l,a,s,i,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}(),a.incrementPage=function(){this.page+=1},a.resetPage=function(){this.page=1},t=e,(n=[{key:"query",get:function(){return this.searchQuery},set:function(e){this.searchQuery=e}}])&&p(t.prototype,n),l&&p(t,l),e}(),f={searchForm:document.getElementById("search-form"),gallery:document.querySelector(".gallery-js"),observerItem:document.querySelector(".observer-item"),loader:document.getElementById("loader"),scrollElem:document.getElementById("scrollToTop")},y=f.searchForm,v=f.gallery,w=f.observerItem,b=f.scrollElem,x=f.loader,k=new g,_=new IntersectionObserver((function(e){setTimeout((function(){e.forEach((function(e){e.isIntersecting&&k.fetchPhotos().then(E).then(L).catch(d)}))}),500)}),P),P={rootMargin:"200px"};function E(e){if(console.log(0===e.length),0===e.length)return L(),u();var t=a()(e);v.insertAdjacentHTML("beforeend",t),_.observe(w)}function L(){x.classList.add("hide-loader")}y.addEventListener("submit",(function(e){e.preventDefault(),v.innerHTML="",_.unobserve(w),x.classList.remove("hide-loader");var t=e.currentTarget.elements.query.value;if(console.log(t),!new RegExp("[a-zA-Z]").test(t)||""===t)return L(),u();k.query=t,k.resetPage(),k.fetchPhotos().then(E).catch(d)})),v.addEventListener("click",(function(e){var t=e.target;"IMG"!==t.nodeName||(s=o.create('\n\t\t<div class="lightbox__wrapper slider" data-id="0">\n\t\t\t<img \n\t\t\tclass="lightbox__image" \n\t\t\tsrc="'+t.dataset.lightboxImg+'" \n\t\t\talt="'+t.alt+'"\n\t\t\t/>\n\t\t\t<button class="lightbox__close-button" id="lightBoxClose" type="button"> \n\t\t\t\t<i class="material-icons lightbox__close-icon">\n\t\t\t\t\tclose\n\t\t\t\t</i> \n\t\t\t</button> \n\t\t</div>\n\t\t',{onShow:function(e){document.body.style.overflowY="hidden",e.element().querySelector("#lightBoxClose").onclick=e.close},onClose:function(){document.body.style.overflowY="unset"},className:".slider"})).show((function(){window.addEventListener("keydown",i)}))})),window.addEventListener("scroll",(function(){pageYOffset>100?b.style.opacity="1":b.style.opacity="0"})),b.addEventListener("click",(function(){window.scrollTo(0,0)}))},sbky:function(e,t,n){var l=n("mp5j");e.exports=(l.default||l).template({1:function(e,t,n,l,a){var o,s=null!=t?t:e.nullContext||{},i=e.hooks.helperMissing,r="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <li class="gallery-item" id="'+c(typeof(o=null!=(o=u(n,"id")||(null!=t?u(t,"id"):t))?o:i)===r?o.call(s,{name:"id",hash:{},data:a,loc:{start:{line:2,column:33},end:{line:2,column:39}}}):o)+'">\n        <div class="gallery-item__container gallery-container" id="gallery-container">\n             <img \n                class="gallery-item__img" \n                src="'+c(typeof(o=null!=(o=u(n,"webformatURL")||(null!=t?u(t,"webformatURL"):t))?o:i)===r?o.call(s,{name:"webformatURL",hash:{},data:a,loc:{start:{line:6,column:21},end:{line:6,column:37}}}):o)+'" \n                data-lightbox-img="'+c(typeof(o=null!=(o=u(n,"largeImageURL")||(null!=t?u(t,"largeImageURL"):t))?o:i)===r?o.call(s,{name:"largeImageURL",hash:{},data:a,loc:{start:{line:7,column:35},end:{line:7,column:52}}}):o)+'" \n                alt="'+c(typeof(o=null!=(o=u(n,"tags")||(null!=t?u(t,"tags"):t))?o:i)===r?o.call(s,{name:"tags",hash:{},data:a,loc:{start:{line:8,column:21},end:{line:8,column:29}}}):o)+'"\n                loading="lazy"\n                height="200px"\n            />\n\n            <ul class="gallery-stats">\n                <li class="gallery-item__stats">\n                    <i class="material-icons stats-icon">thumb_up</i>\n                    <span class="stats-value">'+c(typeof(o=null!=(o=u(n,"likes")||(null!=t?u(t,"likes"):t))?o:i)===r?o.call(s,{name:"likes",hash:{},data:a,loc:{start:{line:16,column:46},end:{line:16,column:55}}}):o)+'</span>\n                </li>\n                <li class="gallery-item__stats">\n                    <i class="material-icons stats-icon">visibility</i>\n                    <span class="stats-value">'+c(typeof(o=null!=(o=u(n,"views")||(null!=t?u(t,"views"):t))?o:i)===r?o.call(s,{name:"views",hash:{},data:a,loc:{start:{line:20,column:46},end:{line:20,column:55}}}):o)+'</span>\n                </li>\n                <li class="gallery-item__stats">\n                    <i class="material-icons stats-icon">comment</i>\n                    <span class="stats-value">'+c(typeof(o=null!=(o=u(n,"comments")||(null!=t?u(t,"comments"):t))?o:i)===r?o.call(s,{name:"comments",hash:{},data:a,loc:{start:{line:24,column:46},end:{line:24,column:58}}}):o)+'</span>\n                </li>\n                <li class="gallery-item__stats">\n                    <i class="material-icons stats-icon">cloud_download</i>\n                    <span class="stats-value">'+c(typeof(o=null!=(o=u(n,"downloads")||(null!=t?u(t,"downloads"):t))?o:i)===r?o.call(s,{name:"downloads",hash:{},data:a,loc:{start:{line:28,column:46},end:{line:28,column:59}}}):o)+"</span>\n                </li>\n            </ul>\n        </div>\n    </li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,l,a){var o;return(null!=(o=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:33,column:9}}}))?o:"")+"\n\n\n"},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.30272e3681a80d26106c.js.map